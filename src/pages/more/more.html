<ion-header>
  <ion-navbar color="primary">
    <ion-grid>
      <ion-row tappable (click)="openProfile()">
        <ion-col col-3>
          <ng-template [ngIf]="photo$ | async">
            <img [src]="'data:image/jpg;base64,' + (photo$ | async)?.base64_photo" onerror="this.src='assets/img/profile.svg'"
              alt="Avatar">
          </ng-template>
        </ion-col>
        <ion-col col-9>
          <ng-template [ngIf]="profile$ | async">
            <p class="name">{{ ((profile$ | async) || [{}])[0]?.NAME }}</p>
            <p class="tpnumber">{{ ((profile$ | async) || [{}])[0]?.STUDENT_NUMBER }}</p>
          </ng-template>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-navbar>
</ion-header>

<ion-content>
  <div class="main-content" (swipe)='swipe($event)'>
      <button no-lines ion-item *ngFor='let p of pages' (click)='openPage(p)'>
        <ion-icon class="ion-icon" item-left [name]='p.icon'></ion-icon>
        {{ p.title }}
      </button>
    <button no-lines ion-item (click)='logout()'>
      <ion-icon class="ion-icon" item-left name='md-log-out'></ion-icon>
      Log out
    </button>
  </div>
</ion-content>
